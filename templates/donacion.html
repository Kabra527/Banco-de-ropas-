<!doctype html>
<html lang="es" xml:lang="es">
<head><meta charset="utf-8"><title>Registrar Donación</title></head>
<body>
  <h2>Registrar Donación</h2>
  <form id="donForm">
    Tipo: <input name="tipo" required><br>
    Talla: <input name="talla" required><br>
    Cantidad: <input name="cantidad" type="number" required min="1"><br>
    Descripción: <input name="descripcion"><br>
    <button type="submit">Enviar</button>
  </form>
  <div id="res"></div>
<script>
document.getElementById('donForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const f = e.target;
  const body = {
    tipo: f.tipo.value.trim(),
    talla: f.talla.value.trim(),
    cantidad: parseInt(f.cantidad.value,10),
    descripcion: f.descripcion.value.trim()
  };
  const res = await fetch('/api/donaciones', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify(body)
  });
  const data = await res.json();
  document.getElementById('res').innerText = JSON.stringify(data);
});
</script>
</body>
</html>
